<!doctype html>
<html lang="{{ site.lang | default: 'zh-CN' }}" xmlns="http://www.w3.org/1999/html">
{% include head.html %}
<body style="margin: 0">

{% include icons/icons.html %}

<!--é¡µé¢-->
<div class="main-page">
  <!--å·¦ä¾§-->
  <div class="left" id="left-sidebar">
    <!--å·¦ä¾§é¡¶éƒ¨logoå’Œæ ‡é¢˜-->
    <div class="left-header">
      <div>
        <a href="/" style="text-decoration: none">
          &nbsp{{ site.title }}
        </a>
        <a id="menu-button" style="display: none"></a>
      </div>
    </div>

    <nav aria-label="Main" id="site-nav" style="flex: 1;overflow: auto">
      {% assign pages_top_size = site.html_pages
      | where_exp:"item", "item.title != nil"
      | where_exp:"item", "item.parent == nil"
      | where_exp:"item", "item.nav_exclude != true"
      | size %}
      {% if pages_top_size > 0 %}
      {% include nav.html pages=site.html_pages key=nil %}
      {% endif %}
      {%- if site.nav_external_links -%}
      <ul class="nav-list">
        {%- for node in site.nav_external_links -%}
        <li class="nav-list-item external">
          <a href="{{ node.url | absolute_url }}" class="nav-list-link external">
            {{ node.title }}
            {% unless node.hide_icon %}
            <svg viewBox="0 0 24 24" aria-labelledby="svg-external-link-title">
              <use xlink:href="#svg-external-link"></use>
            </svg>
            {% endunless %}
          </a>
        </li>
        {%- endfor -%}
      </ul>
      {%- endif -%}
      {% if site.just_the_docs.collections %}
      {% assign collections_size = site.just_the_docs.collections | size %}
      {% for collection_entry in site.just_the_docs.collections %}
      {% assign collection_key = collection_entry[0] %}
      {% assign collection_value = collection_entry[1] %}
      {% assign collection = site[collection_key] %}
      {% if collection_value.nav_exclude != true %}
      {% if collections_size > 1 or pages_top_size > 0 %}
      {% if collection_value.nav_fold == true %}
      <ul class="nav-list nav-category-list">
        <li class="nav-list-item{% if page.collection == collection_key %} active{% endif %}">
          {%- if collection.size > 0 -%}
          <a href="#" class="nav-list-expander">
            <svg viewBox="0 0 24 24">
              <use xlink:href="#svg-arrow-right"></use>
            </svg>
          </a>
          {%- endif -%}
          <div class="nav-category">{{ collection_value.name }}</div>
          {% include nav.html pages=collection key=collection_key %}
        </li>
      </ul>
      {% else %}
      <div class="nav-category">{{ collection_value.name }}</div>
      {% include nav.html pages=collection key=collection_key %}
      {% endif %}
      {% else %}
      {% include nav.html pages=collection key=collection_key %}
      {% endif %}
      {% endif %}
      {% endfor %}
      {% endif %}
    </nav>
    <div class="left-bottom">
      <span id="busuanzi_container_site_pv">
        æœ¬ç«™æ€»è®¿é—®é‡<span id="busuanzi_value_site_pv" class="zoom views-counts"><i
        class="fa fa-spinner"></i></span>æ¬¡
      </span>
      <div style="margin-top: 2px">
        &copy;{{ "now" | date: "%Y" }}<a href="#" id="weixing" class="zoom">é™†å›½æ¾</a>.
        <a href="#" id="apply" class="zoom">ğŸ’–æ”¯æŒ</a>
        <img id="applyImg" class='lazyload' src="#"
             data-src="https://cdn.jsdelivr.net/gh/luguosong/images@master/blog-img/202306141421968-%E6%94%AF%E4%BB%98%E5%AE%9D%E6%94%B6%E6%AC%BE%E7%A0%81.jpg"
             hidden>
        <img id="weixingImg" class='lazyload' src="#"
             data-src="https://cdn.jsdelivr.net/gh/luguosong/images@master/blog-img/202306141421795-%E5%BE%AE%E4%BF%A1%E4%BA%8C%E7%BB%B4%E7%A0%81.jpg"
             hidden>
      </div>
    </div>
  </div>

  <!--å†…å®¹-->
  <div class="middle">

    <div class="middle-header">
      <a href="#" id="menu-button-left" class="site-button-left site-button">
        <svg viewBox="0 0 24 24" class="icon">
          <use xlink:href="#svg-menu"></use>
        </svg>
      </a>

      {% if site.search_enabled != false %}
      {% capture search_placeholder %}{% include search_placeholder_custom.html %}{% endcapture %}

      <div class="search" style="flex: 1;padding: 0">
        <div class="search-input-wrap">
          <input type="text" id="search-input" class="search-input" tabindex="0"
                 placeholder="{{ search_placeholder | strip_html | strip }}"
                 aria-label="{{ search_placeholder | strip_html| strip }}" autocomplete="off">
          <label for="search-input" class="search-label">
            <svg viewBox="0 0 24 24" class="search-icon">
              <use xlink:href="#svg-search"></use>
            </svg>
          </label>
        </div>
        <div id="search-results" class="search-results"></div>
      </div>
      {% endif %}

      {% if site.back_to_top %}
      <a href="#top" id="back-to-top" style="line-height: 3rem;flex:1;text-align: right">{{ site.back_to_top_text }}</a>
      {% endif %}

      <a href="#" id="menu-button-right" class="site-button-right site-button">
        <svg viewBox="0 0 24 24" class="icon">
          <use xlink:href="#svg-menu"></use>
        </svg>
      </a>
    </div>
    <!--æ ‡é¢˜-->
    <div class="middle-scroll" id="middle-scroll">
      <div id="top"></div>
      <h1 class="middle-title">{{ page.title }}</h1>
      <div class="middle-page">
        <!--å­—æ•°ç»Ÿè®¡-->
        <div>
          æœ¬æ–‡ï¼š
          {% assign count = page.content | strip_html | strip_newlines | remove: " " | size %}
          {% if count > 10000 %}
          {{ count | divided_by: 10000 }} ä¸‡ {{ count | modulo: 10000 }}
          {% else %}
          {{ count }}
          {% endif %}å­—
        </div>
      </div>


      <div id="main-content" class="main-content middle-context" role="main">

        {% if page.has_children == true and page.has_toc != false %}
        {%- include components/children_nav.html -%}
        {% endif %}

        {{ content | replace: "<img src", "<img class='lazyload'
                                                src='https://cdn.jsdelivr.net/gh/luguosong/images@master/blog-img/loading.gif'
                                                data-src" }}

        {% capture footer_custom %}
        {%- include footer_custom.html -%}
        {% endcapture %}
        {% if footer_custom != "" or site.last_edit_timestamp or site.gh_edit_link %}
        <hr>
        <footer>
          <!--è¯„è®ºåŒº-->
          <div id="gitalk-container"></div>

          {% if site.last_edit_timestamp or site.gh_edit_link %}
          <div class="d-flex mt-2">
            {% if site.last_edit_timestamp and site.last_edit_time_format and page.last_modified_date %}
            <p class="text-small text-grey-dk-000 mb-0 mr-2">
              Page last modified: <span class="d-inline-block">{{ page.last_modified_date | date: site.last_edit_time_format }}</span>.
            </p>
            {% endif %}
            {% if
            site.gh_edit_link and
            site.gh_edit_link_text and
            site.gh_edit_repository and
            site.gh_edit_branch and
            site.gh_edit_view_mode
            %}
            <p class="text-small text-grey-dk-000 mb-0" style="text-indent: 0">
              <a
                href="{{ site.gh_edit_repository }}/{{ site.gh_edit_view_mode }}/{{ site.gh_edit_branch }}{% if site.gh_edit_source %}/{{ site.gh_edit_source }}{% endif %}/{{ page.path }}"
                id="edit-this-page">{{ site.gh_edit_link_text }}</a>
            </p>
            {% endif %}
          </div>
          {% endif %}

          {{ footer_custom }}
        </footer>
        {% endif %}
      </div>
    </div>
  </div>
  <!--å³ä¾§TOC-->
  <div class="right" id="right-sidebar">
    <div class="right-head">
      <!--<a href="https://www.luguosong.com/" style="text-decoration: none">-->
      <!--  <img class="unImgView zoom" src="https://img.shields.io/badge/-github%20pages-blue?style=flat&logo=github">-->
      <!--</a>-->
      <!--<a href="https://luguosong.gitee.io/" style="text-decoration: none">-->
      <!--  <img class="unImgView zoom" src="https://img.shields.io/badge/-gitee%20pages-red?style=flat&logo=gitee">-->
      <!--</a>-->
    </div>
    <div class="toc js-toc">

    </div>
    <div class="right-bottom">
      <div style="margin-top: 2px;text-align: center">
        <img style="height: 1rem" class="unImgView lazyload"
             src="https://img.shields.io/github/last-commit/luguosong/programming-study/note?style=plastic">
        <img style="height: 1rem" class="unImgView lazyload"
             src="https://img.shields.io/github/commit-activity/m/luguosong/programming-study/note?label=commit&style=plastic">
      </div>
      <div style="margin-top: 2px;text-align: center">
        <img style="height: 1rem" class="unImgView lazyload"
             src="https://img.shields.io/github/languages/code-size/luguosong/programming-study?label=code">
        <img style="height: 1rem" class="unImgView lazyload"
             src="https://img.shields.io/github/repo-size/luguosong/programming-study?label=size&style=plastic">
      </div>
    </div>
  </div>

</div>

<script>
  let gitalk = new Gitalk({
    id: md5("{{ page.url }}"),
    clientID: "a6b2641e428140fe7d27",
    clientSecret: "bc27b2735413e637173f6fb339063ea0e2b06052",
    repo: "programming-study",
    owner: "luguosong",
    admin: ["luguosong"],
    title: "commentGitTalk",
  })
  gitalk.render("gitalk-container")

  tocbot.init({
    // åœ¨å“ªé‡Œæ˜¾ç¤ºç›®å½•ã€‚
    tocSelector: ".js-toc",
    // åœ¨å“ªé‡ŒæŠ“å–æ ‡é¢˜ä»¥å»ºç«‹ç›®å½•ã€‚
    contentSelector: ".middle-context",
    // åœ¨contentSelectorå…ƒç´ ä¸­æŠ“å–å“ªäº›æ ‡é¢˜ã€‚
    headingSelector: "h1, h2, h3",
    // ç¬¦åˆignoreSelectorçš„æ ‡é¢˜å°†è¢«è·³è¿‡ã€‚
    ignoreSelector: ".js-toc-ignore",
    // å¯¹äºå†…å®¹ä¸­ç›¸å¯¹æˆ–ç»å¯¹å®šä½çš„å®¹å™¨å†…çš„æ ‡é¢˜
    hasInnerContainers: false,
    // æ·»åŠ åˆ°é“¾æ¥çš„ä¸»ç±»ã€‚
    linkClass: "toc-link",
    // é¢å¤–çš„ç±»æ·»åŠ åˆ°é“¾æ¥ä¸­ã€‚
    extraLinkClasses: "",
    // ç±»æ·»åŠ åˆ°æ´»åŠ¨é“¾æ¥ä¸­ï¼Œè¯¥é“¾æ¥å¯¹åº”äºé¡µé¢ä¸Šæœ€ä¸Šé¢çš„æ ‡é¢˜ã€‚
    activeLinkClass: "is-active-link",
    // ç”¨äºæ·»åŠ åˆ°åˆ—è¡¨çš„ä¸»ç±»ã€‚
    listClass: "toc-list",
    // é¢å¤–çš„è¯¾ç¨‹æ·»åŠ åˆ°åˆ—è¡¨ä¸­ã€‚
    extraListClasses: "",
    // å½“ä¸€ä¸ªåˆ—è¡¨åº”è¯¥è¢«æŠ˜å æ—¶è¢«æ·»åŠ çš„ç±»ã€‚
    isCollapsedClass: "is-collapsed",
    // å½“ä¸€ä¸ªåˆ—è¡¨åº”è¯¥èƒ½å¤Ÿè¢«æŠ˜å ä½†ä¸ä¸€å®šè¢«æŠ˜å æ—¶è¢«æ·»åŠ çš„ç±»ã€‚
    collapsibleClass: "is-collapsible",
    // ç±»æ·»åŠ åˆ°åˆ—è¡¨é¡¹ç›®ã€‚
    listItemClass: "toc-list-item",
    // æ·»åŠ åˆ°æ´»åŠ¨åˆ—è¡¨é¡¹ç›®çš„ç±»ã€‚
    activeListItemClass: "is-active-li",
    // å¤šå°‘ä¸ªæ ‡é¢˜å±‚ä¸åº”è¯¥è¢«æŠ˜å ã€‚
    // ä¾‹å¦‚ï¼Œæ•°å­—6å°†æ˜¾ç¤ºæ‰€æœ‰å†…å®¹ï¼Œå› ä¸ºåªæœ‰6ä¸ªæ ‡é¢˜å±‚ï¼Œæ•°å­—0å°†æŠ˜å æ‰€æœ‰å†…å®¹ã€‚
    // å½“ä½ æ»šåŠ¨åˆ°å…¶ä¸­çš„æ ‡é¢˜æ—¶ï¼Œè¢«éšè—çš„éƒ¨åˆ†å°†æ‰“å¼€å’Œå…³é—­ã€‚
    collapseDepth: 1,
    // å¯ç”¨å¹³æ»‘æ»šåŠ¨ã€‚
    scrollSmooth: true,
    // å¹³æ»‘æ»šåŠ¨æŒç»­æ—¶é—´ã€‚
    scrollSmoothDuration: 1000,
    // Smooth scroll offset.
    scrollSmoothOffset: 0,
    // Callback for scroll end.
    scrollEndCallback: function(e) {

    },
    // æ ‡é¢˜å’Œæ–‡æ¡£é¡¶éƒ¨ä¹‹é—´çš„æ ‡é¢˜åç§»ï¼ˆè¿™æ˜¯ä¸ºäº†è¿›è¡Œå¾®å°çš„è°ƒæ•´ï¼‰ã€‚
    headingsOffset: 1,
    // åœ¨æ ‡é¢˜ä¹‹å‰æ·»åŠ ä¸€ä¸ªé”šé“¾æ¥ã€‚
    throttleTimeout: 50,
    // è¦æ·»åŠ positionFixedClassçš„å…ƒç´ ã€‚
    positionFixedSelector: null,
    // æ·»åŠ å›ºå®šä½ç½®ç±»ï¼Œä½¿ä¾§è¾¹æ åœ¨å‘ä¸‹æ»šåŠ¨è¶…è¿‡fixedSidebarOffsetåå›ºå®šã€‚
    positionFixedClass: "is-position-fixed",
    // fixedSidebarOffsetå¯ä»¥æ˜¯ä»»ä½•æ•°å­—ï¼Œä½†é»˜è®¤è®¾ç½®ä¸ºè‡ªåŠ¨ï¼Œ
    // åœ¨åˆå§‹åŒ–æ—¶å°†fixedSidebarOffsetè®¾ç½®ä¸ºä¾§è¾¹æ å…ƒç´ ä»æ–‡æ¡£é¡¶éƒ¨çš„offsetTopã€‚
    fixedSidebarOffset: "auto",
    // includeHtmlå¯ä»¥è¢«è®¾ç½®ä¸ºtrueï¼Œä»¥åŒ…æ‹¬æ ‡é¢˜èŠ‚ç‚¹çš„HTMLæ ‡è®°ï¼Œ
    // è€Œä¸æ˜¯ä»…ä»…åŒ…æ‹¬textContentã€‚
    includeHtml: false,
    // onclickå‡½æ•°é€‚ç”¨äºtocä¸­çš„æ‰€æœ‰é“¾æ¥ï¼Œå°†ä»¥äº‹ä»¶ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°è¢«è°ƒç”¨ï¼Œ
    // è¿™å¯ä»¥ç”¨æ¥åœæ­¢ã€ä¼ æ’­ã€é˜²æ­¢é»˜è®¤æˆ–æ‰§è¡Œè¡ŒåŠ¨ã€‚
    onClick: function(e) {
      let nodes = e.target.parentNode.parentNode.childNodes
      for (let i = 0; i < nodes.length; i++) {
        nodes[i].querySelector("a").classList.remove("is-active-link")
        let ul = nodes[i].querySelector("ul")
        if (ul !== null) {
          ul.classList.add("is-collapsed")
        }
      }
      e.target.classList.add("is-active-link")
      let node = e.target.parentNode.querySelector("ul")
      if (node !== null)
        node.classList.remove("is-collapsed")
    },
    // orderedListå¯ä»¥è¢«è®¾ç½®ä¸ºfalseï¼Œä»¥ç”Ÿæˆæ— åºåˆ—è¡¨ï¼ˆulï¼‰è€Œä¸æ˜¯æœ‰åºåˆ—è¡¨ï¼ˆolï¼‰ã€‚
    orderedList: false,
    // å¦‚æœæœ‰å›ºå®šçš„æ–‡ç« æ»šåŠ¨å®¹å™¨ï¼Œè®¾ç½®è®¡ç®—æ ‡é¢˜çš„åç§»é‡
    scrollContainer: null,
    // å¦‚æœ ToC DOM å·²ç»ç”±å¤–éƒ¨ç³»ç»Ÿæ¸²æŸ“ï¼Œåˆ™é˜»æ­¢æ¸²æŸ“
    skipRendering: false,
    // æ›´æ”¹æ ‡é¢˜æ ‡ç­¾çš„å¯é€‰å›è°ƒã€‚ ä¾‹å¦‚ï¼Œå®ƒå¯ç”¨äºåœ¨æ‚¨è®¤ä¸ºå¤ªé•¿çš„å¤šè¡Œæ ‡é¢˜ä¸Šç¼©å‡å’Œæ”¾ç½®çœç•¥å·ã€‚
    // æ¯æ¬¡è§£ææ ‡é¢˜æ—¶è°ƒç”¨ã€‚
    // æœŸæœ›è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¿®æ”¹labelä¸ºdisplay.function(string) => string
    headingLabelCallback: false,
    // ignore headings that are hidden in DOM
    ignoreHiddenElements: false,
    // Optional callback to modify properties of parsed headings.
    // The heading element is passed in node parameter and information parsed by default parser is provided in obj parameter.
    // Function has to return the same or modified obj.
    // The heading will be excluded from TOC if nothing is returned.
    // function (object, HTMLElement) => object | void
    headingObjectCallback: null,
    // è®¾ç½®åŸºæœ¬è·¯å¾„ï¼Œå¦‚æœæ‚¨åœ¨ `head` ä¸­ä½¿ç”¨ `base` æ ‡ç­¾ï¼Œè¿™å¾ˆæœ‰ç”¨ã€‚
    basePath: "",
    // åªåœ¨`toSelector`æ»šåŠ¨æ—¶ç”Ÿæ•ˆï¼Œä¿æŒtocæ»šåŠ¨ä½ç½®ä¸å†…å®¹åŒæ­¥ã€‚
    disableTocScrollSync: true,
  })
</script>

<!--é¡µé¢æ»šåŠ¨ç›®å½•åŠ¨æ€å˜åŒ–-->
<script>

  function updateActiveItem() {
    // è·å–åŒ…å«é¡µé¢å†…å®¹çš„divå…ƒç´ 
    const contentDiv = document.querySelector("#middle-scroll")

    // è·å–æ‰€æœ‰æ ‡é¢˜å…ƒç´ 
    const headings = document.querySelectorAll("h1, h2, h3")

    // è·å–tocbotç”Ÿæˆçš„ç›®å½•å…ƒç´ 
    const toc = document.querySelector("#right-sidebar")

    // è·å–çª—å£çš„é«˜åº¦
    const containerHeight = window.innerHeight

    // è·å–æ ‡é¢˜çš„é«˜åº¦
    const titleHeight = document.querySelector("h1").offsetHeight

    // è·å–å½“å‰æ»šåŠ¨ä½ç½®ä¸æ ‡é¢˜å…ƒç´ ä½ç½®çš„å·®å€¼æœ€å°çš„æ ‡é¢˜å…ƒç´ 
    let activeHeading = null
    let minDistance = Number.MAX_VALUE
    for (const heading of headings) {
      const distance = Math.abs(heading.offsetTop - contentDiv.scrollTop - (containerHeight - titleHeight) / 2)
      if (distance < minDistance) {
        activeHeading = heading
        minDistance = distance
      }
    }

    // æ›´æ–°ç›®å½•çš„å½“å‰æ´»åŠ¨é¡¹
    if (activeHeading) {
      const e = toc.querySelector(`a[href="#${activeHeading.id}"]`)
      if (e) {
        let nodes = e.parentNode.parentNode.childNodes
        for (let i = 0; i < nodes.length; i++) {
          nodes[i].querySelector("a").classList.remove("is-active-link")
          let ul = nodes[i].querySelector("ul")
          if (ul !== null) {
            ul.classList.add("is-collapsed")
          }
        }
        e.classList.add("is-active-link")
        let node = e.parentNode.querySelector("ul")
        if (node !== null) {
          node.classList.remove("is-collapsed")
        }
      }
    }
  }

  // ç›‘å¬divå…ƒç´ çš„æ»šåŠ¨äº‹ä»¶
  document.querySelector("#middle-scroll").addEventListener("scroll", updateActiveItem)

  // åœ¨é¡µé¢åŠ è½½æ—¶æ›´æ–°ç›®å½•çš„å½“å‰æ´»åŠ¨é¡¹
  updateActiveItem()
</script>

<!--åœ°å€æ é”šç‚¹å®šä½æ•ˆæœ-->
<script>
  // è·å– URL çš„å“ˆå¸Œå€¼
  var hash = decodeURIComponent(window.location.hash)

  // å¦‚æœå“ˆå¸Œå€¼ä¸ä¸ºç©ºï¼Œåˆ™æ»šåŠ¨åˆ°ç›¸åº”çš„å…ƒç´ 
  if (hash !== "") {
    var element = document.getElementById(hash.slice(1))
    if (element) {
      element.scrollIntoView()
    }
  }
</script>

<!--å›¾ç‰‡æŸ¥çœ‹-->
{% if page.viewerjs != false %}
<script>

  const sitenav = document.getElementById("site-nav")

  function setCookie(sName, sValue) {
    sessionStorage.setItem(sName, escape(sValue))
  }

  function getCookie(sName) {
    return sessionStorage.getItem(sName)
  }

  sitenav.scrollTop = getCookie("scrollTop")

  window.onload = function AddImgClickEvent() {
    const objs = document.getElementsByTagName("img")
    const apply = document.getElementById("apply")
    const applyImg = document.getElementById("applyImg")
    const weixing = document.getElementById("weixing")
    const weixingImg = document.getElementById("weixingImg")

    for (let i = 0; i < objs.length; i++) {
      if (!objs[i].classList.contains("unImgView")) {
        new Viewer(objs[i],
          {
            navbar: false,
            title: false,
            toolbar: false,
          })
      }
      objs[i].style.cursor = "pointer"
      objs[i].alt = "å›¾ç‰‡"
      objs[i].loading = "lazy"
      objs[i].title = "ç‚¹å‡»æŸ¥çœ‹å¤§å›¾"
    }


    apply.onclick = function() {
      applyImg.src=applyImg.getAttribute("data-src")
      applyImg.click()
      return false
    }

    weixing.onclick = function() {
      weixingImg.src=weixingImg.getAttribute("data-src")
      weixingImg.click()
      return false
    }

    sitenav.onscroll = function() {
      setCookie("scrollTop", sitenav.scrollTop)
    }
  }
</script>
{% endif %}

<!--ä¾§è¾¹æ çš„æ˜¾ç¤ºä¸éšè—-->
<script>
  const menuButtonLeft = document.getElementById("menu-button-left")
  const leftSidebar = document.getElementById("left-sidebar")

  menuButtonLeft.addEventListener("click", () => {
    leftSidebar.classList.toggle("visible")
  })

  const menuButtonRight = document.getElementById("menu-button-right")
  const rightSidebar = document.getElementById("right-sidebar")

  menuButtonRight.addEventListener("click", () => {
    rightSidebar.classList.toggle("visible")
  })
</script>

</body>
</html>
